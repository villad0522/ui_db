[{"functionId":"test","functionNameJP":"テストコード","functionNameEN":"test","beforeCode":"","innerCode":"\n","afterCode":"","parametersName":[],"parametersDataType":[],"returnValue":"void"},{"functionNameJP":"ビューのHTMLを生成","functionNameEN":"generateViewHTML","parametersName":["viewId","tableId","onePageMaxSize","childPageId"],"parametersDataType":["number","string","number","number"],"returnValue":"string","functionId":"01HNCZAYD759G1FKRWMEYF1WBF","beforeCode":"\n\n\n\n","innerCode":"\n    const viewColumns = await listViewColumns( viewId );\n    let mainHtmlText = \"\";\n    mainHtmlText += `\n        <hr>\n        <div class=\"collapse\" id=\"search_block_${ viewId }\">\n            <h4>抽出／並び替え</h4>\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <label for=\"inputEmail4\" class=\"form-label\">Email</label>\n                    <input type=\"email\" class=\"form-control\" id=\"inputEmail4\">\n                </div>\n                <div class=\"col-md-6\">\n                    <label for=\"inputPassword4\" class=\"form-label\">Password</label>\n                    <input type=\"password\" class=\"form-control\" id=\"inputPassword4\">\n                </div>\n                <div class=\"col-12\">\n                    <label for=\"inputAddress\" class=\"form-label\">Address</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"1234 Main St\">\n                </div>\n                <div class=\"col-12\">\n                    <label for=\"inputAddress2\" class=\"form-label\">Address 2</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputAddress2\" placeholder=\"Apartment, studio, or floor\">\n                </div>\n                <div class=\"col-md-6\">\n                    <label for=\"inputCity\" class=\"form-label\">City</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputCity\">\n                </div>\n                <div class=\"col-md-4\">\n                    <label for=\"inputState\" class=\"form-label\">State</label>\n                    <select id=\"inputState\" class=\"form-select\">\n                        <option selected>Choose...</option>\n                        <option>...</option>\n                    </select>\n                </div>\n                <div class=\"col-md-2\">\n                    <label for=\"inputZip\" class=\"form-label\">Zip</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputZip\">\n                </div>\n            </div>\n            <br>\n            <div style=\"text-align: right;\">\n                <button type=\"button\" class=\"btn btn-primary\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-search\" viewBox=\"0 0 16 16\">\n                        <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                    </svg>\n                    検索\n                </button>\n            </div>\n            <hr>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-sm-6\">\n                <h4 style=\"display: inline-block;\">検索結果</h4>\n                （\n                <input type=\"number\" id=\"inputEmail4\" disabled style=\"background: none; border: none; width: 50px;\">\n                件）\n            </div>\n            <div class=\"col-sm-6\" style=\"text-align: right;\">\n                <button data-bs-toggle=\"collapse\" data-bs-target=\"#search_block_${ viewId }\" class=\"btn btn-outline-primary\" type=\"button\">\n                    抽出／並び替え\n                </button>\n                <button onclick=\"overwriteButton();\" type=\"button\" class=\"btn btn-outline-primary\">\n                    上書き\n                </button>\n            </div>\n        </div>\n        <div class=\"card\">\n            <div class=\"card-body row\" oninput=\"myFetch('./auto_correct_view${viewId}/form')\">`;\n    //\n    for( const { viewColumnId, viewColumnType, columnPath, viewColumnName } of viewColumns ){\n        if( viewColumnType!==\"RAW\" ) {\n            mainHtmlText += `\n                <div class=\"col-xl-6 row mb-3\">\n                    <label for=\"${viewColumnId}\" class=\"col-md-3 form-label d-md-none\">\n                        ${viewColumnName}\n                    </label>\n                    <label for=\"${viewColumnId}\" class=\"col-md-3 form-label d-none d-md-block text-end\">\n                        ${viewColumnName}\n                    </label>\n                    <div class=\"col-md-9\">\n                        <input type=\"text\" readonly class=\"form-control-plaintext\" name=\"${viewColumnId}\" id=\"${viewColumnId}\">\n                    </div>\n                </div>`;\n            continue;\n        }\n        let subHtmlText = \"\";\n        const placeholder = \"\"; // 入力例（未実装）\n        const inputType = await getInputType( viewColumnId );\n        \n        subHtmlText = `\n                    <div class=\"col-md-9\">\n                        <input name=\"${viewColumnId}\" type=\"email\" placeholder=\"${placeholder}\" class=\"form-control\" id=\"${viewColumnId}\" list=\"${viewColumnId}_options\">\n                        <datalist id=\"${viewColumnId}_options\">\n                            <option value=\"読み込み中...\">\n                        </datalist>\n                    </div>`;\n        /*\n        switch( inputType ){\n            case \"TEXTBOX\":\n                subHtmlText = `\n                    <input type=\"email\" class=\"form-control\" id=\"inputEmail4\" disabled>`;\n                break;\n            case \"EMAIL\":\n                subHtmlText = `\n                    <div class=\"col-sm-10\">\n                        <input name=\"${viewColumnId}\" type=\"email\" placeholder=\"${placeholder}\" class=\"form-control\" id=\"${viewColumnId}\" list=\"${viewColumnId}_options\">\n                        <datalist id=\"${viewColumnId}_options\">\n                            <option value=\"読み込み中...\">\n                        </datalist>\n                    </div>`;\n                break;\n            case \"TEXTAREA\":\n                break;\n            case \"SELECT\":\n                break;\n            case \"NUMBER\":\n                break;\n            case \"DATE\":\n                break;\n            default:\n                throw `サポートされていない入力方式です。\\ninputType = ${inputType}`;\n        }\n        */\n        mainHtmlText += `\n                <div class=\"col-xl-6 row mb-3\">\n                    <label for=\"${viewColumnId}\" class=\"col-md-3 form-label d-md-none\">\n                        ${viewColumnName}\n                    </label>\n                    <label for=\"${viewColumnId}\" class=\"col-md-3 form-label d-none d-md-block text-end\">\n                        ${viewColumnName}\n                    </label>${subHtmlText}\n                </div>`;\n    }\n    //\n    mainHtmlText += `\n                <div class=\"col-md-6\">\n                    <label for=\"inputPassword4\" class=\"form-label\">Password</label>\n                    <input type=\"password\" class=\"form-control\" id=\"inputPassword4\" disabled>\n                </div>\n                <div class=\"col-12\">\n                    <label for=\"inputAddress\" class=\"form-label\">Address</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"1234 Main St\" disabled>\n                </div>\n                <div class=\"col-12\">\n                    <label for=\"inputAddress2\" class=\"form-label\">Address 2</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputAddress2\" placeholder=\"Apartment, studio, or floor\" disabled>\n                </div>\n                <div class=\"col-md-6\">\n                    <label for=\"inputCity\" class=\"form-label\">City</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputCity\" disabled>\n                </div>\n                <div class=\"col-md-4\">\n                    <label for=\"inputState\" class=\"form-label\">State</label>\n                    <select id=\"inputState\" class=\"form-select\" disabled>\n                        <option selected>Choose...</option>\n                        <option>...</option>\n                    </select>\n                </div>\n                <div class=\"col-md-2\">\n                    <label for=\"inputZip\" class=\"form-label\">Zip</label>\n                    <input type=\"text\" class=\"form-control\" id=\"inputZip\" disabled>\n                </div>\n                <div class=\"col-12\">\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"gridCheck\" disabled>\n                        <label class=\"form-check-label\" for=\"gridCheck\">\n                            Check me out\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right;\">\n                    <button onclick=\"myFetch('./create_from_view${viewId}/form');\" class=\"btn btn-primary\" type=\"button\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-plus\" viewBox=\"0 0 16 16\">\n                            <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\" />\n                        </svg>\n                        登録\n                    </button>\n                </div>\n            </div>\n        </div>`;\n    //\n    for( let i=0; i<onePageMaxSize; i++ ){\n        mainHtmlText += `\n        <div class=\"card\">\n            <div class=\"card-body row\">`;\n        for( const { viewColumnId, viewColumnType, columnPath, viewColumnName } of viewColumns ){\n            const elementName = `view${viewId}_${i}_${viewColumnId}`;\n            if( viewColumnType!==\"RAW\" ) {\n                mainHtmlText += `\n                <div class=\"col-xl-6 row mb-3\">\n                    <label for=\"${elementName}\" class=\"col-md-3 form-label d-md-none\">\n                        ${viewColumnName}\n                    </label>\n                    <label for=\"${elementName}\" class=\"col-md-3 form-label d-none d-md-block text-end\">\n                        ${viewColumnName}\n                    </label>\n                    <div class=\"col-md-9\">\n                        <input type=\"text\" readonly class=\"form-control-plaintext\" name=\"${elementName}\" id=\"${elementName}\">\n                    </div>\n                </div>`;\n                continue;\n            }\n            let subHtmlText = \"\";\n            const placeholder = \"\"; // 入力例（未実装）\n            const inputType = await getInputType( viewColumnId );\n            \n            subHtmlText = `\n                    <div class=\"col-md-9\">\n                        <input name=\"${elementName}\" type=\"email\" placeholder=\"${placeholder}\" class=\"form-control\" id=\"${elementName}\" list=\"${elementName}_options\">\n                        <datalist id=\"${elementName}_options\">\n                            <option value=\"読み込み中...\">\n                        </datalist>\n                    </div>`;\n            /*\n            switch( inputType ){\n                case \"TEXTBOX\":\n                    subHtmlText = `\n                    <label for=\"inputEmail4\" class=\"form-label\">Email</label>\n                    <input type=\"email\" class=\"form-control\" id=\"inputEmail4\" disabled>`;\n                    break;\n                case \"EMAIL\":\n                    subHtmlText = `\n                    <label for=\"${viewColumnId}\" class=\"form-label\">\n                        ${viewColumnName}\n                    </label>\n                    <div class=\"col-sm-10\">\n                        <input name=\"${viewColumnId}\" type=\"email\" placeholder=\"${placeholder}\" class=\"form-control\" id=\"${viewColumnId}\" list=\"${viewColumnId}_options\">\n                        <datalist id=\"${viewColumnId}_options\">\n                            <option value=\"読み込み中...\">\n                        </datalist>\n                    </div>`;\n                    break;\n                case \"TEXTAREA\":\n                    break;\n                case \"SELECT\":\n                    break;\n                case \"NUMBER\":\n                    break;\n                case \"DATE\":\n                    break;\n                default:\n                    throw `サポートされていない入力方式です。\\ninputType = ${inputType}`;\n            }\n            */\n            mainHtmlText += `\n                <div class=\"col-xl-6 row mb-3\">\n                    <label for=\"${elementName}\" class=\"col-md-3 form-label d-md-none\">\n                        ${viewColumnName}\n                    </label>\n                    <label for=\"${elementName}\" class=\"col-md-3 form-label d-none d-md-block text-end\">\n                        ${viewColumnName}\n                    </label>${subHtmlText}\n                </div>`;\n        }\n        mainHtmlText += `\n                <div class=\"col-12\" style=\"text-align: right;\">\n                    <button type=\"button\" class=\"btn btn-outline-danger btn-sm\">\n                        削除\n                    </button>\n                </div>\n            </div>\n        </div>`;\n    }\n    //\n    mainHtmlText += `\n        <br>\n        <br>\n        <br>\n        <br>`;\n    mainHtmlText = mainHtmlText.replaceAll(\"\\n\",`\\n        `);\n    return mainHtmlText;\n","afterCode":"\n"}]