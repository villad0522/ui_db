[{"functionId":"test","functionNameJP":"テストコード","functionNameEN":"test","beforeCode":"","innerCode":"\n","afterCode":"","parametersName":[],"parametersDataType":[],"returnValue":"void"},{"functionNameJP":"テーブル名を入力させる","functionNameEN":"autoCorrectTableName","parametersName":["inputText"],"parametersDataType":["string"],"returnValue":["string"],"functionId":"01HPG1DDVAGZ8HYSVRGW2CPF84","beforeCode":"\n\nlet cacheTableNames = {};\n\n","innerCode":"\n  // もしキャッシュデータが残っていたら、計算せずにそのデータを返す。\n  if(cacheTableNames[inputText] ){\n    return cacheTableNames[inputText];\n  }\n  //\n  // テーブル名を全て取得する\n  const tableNames1 = await listTableNamesAll();\n  //\n  // 入力された文字と部分一致するテーブル名だけに絞り込む\n  const tableNames2 = await autoCorrectFromArray( inputText, tableNames1 );\n  //\n  // 配列の長さを最大20件に制限する\n  const tableNames3 = [];\n  for( let i=0; (i<20)&&(i<tableNames2.length); i++){\n    tableNames3[i] = tableNames2[i];\n  }\n  //\n  // 次回の処理を高速化するために、キャッシュデータを残す\n  cacheTableNames[inputText] = tableNames3;\n  return tableNames3;\n","afterCode":""},{"functionNameJP":"カラム名を入力させる","functionNameEN":"autoCorrectColumnName","parametersName":["inputText","tableId"],"parametersDataType":["string","string"],"returnValue":["string"],"functionId":"01HPG1H449Y6V23EMVFKRRC5TN","beforeCode":"\n\n","innerCode":"\n  const columns = await listColumnsAll( tableId );\n  const columnNames = columns.map( ({name})=>name );\n  return columnNames;\n","afterCode":""},{"functionNameJP":"インメモリキャッシュを削除する","functionNameEN":"clearCache","parametersName":[],"parametersDataType":[],"returnValue":"void","functionId":"01HPGBHBR0DB5M2N8718KGJ1ED","beforeCode":"\n\n","innerCode":"\n  cacheTableNames = {};\n    return await clearCache();   // 下層の関数を呼び出す\n","afterCode":""},{"functionNameJP":"テーブルを作成","functionNameEN":"createTable","parametersName":["tableName"],"parametersDataType":["string"],"returnValue":{"message":"string","tableId":"string"},"functionId":"01HPXYNFE3APAKSR8FZ6465BEM","beforeCode":"\n\n","innerCode":"\n  cacheTableNames = {};\n  return await createTable( tableName );\n","afterCode":""},{"functionNameJP":"テーブル名を変更","functionNameEN":"updateTableName","parametersName":["tables"],"parametersDataType":[[{"id":"string","name":"string"}]],"returnValue":"string","functionId":"01HPXYNV3A96DB5GH47T34ZK13","beforeCode":"\n\n","innerCode":"\n  cacheTableNames = {};\n  return await updateTableName( tables );\n","afterCode":""},{"functionNameJP":"不可逆的にテーブルを削除","functionNameEN":"deleteTable","parametersName":["tableId"],"parametersDataType":["string"],"returnValue":"string","functionId":"01HPXYPCRY41034EZQS82KRNYC","beforeCode":"\n\n","innerCode":"\n  cacheTableNames = {};\n  return await deleteTable( tableId );\n","afterCode":""},{"functionNameJP":"カラムを作成","functionNameEN":"createColumn","parametersName":["tableId","columnName","dataType","parentTableId"],"parametersDataType":["string","string","string","string_nullable"],"returnValue":{"message":"string","columnId":"string"},"functionId":"01HPXYQ23PX0VMA84ES57ZT9CB","beforeCode":"\n\n","innerCode":"\n  cacheTableNames = {};\n  return await createColumn( tableId, columnName, dataType, parentTableId );\n","afterCode":""},{"functionNameJP":"カラム名を変更","functionNameEN":"updateColumnName","parametersName":["columns"],"parametersDataType":[[{"id":"string","name":"string"}]],"returnValue":"string","functionId":"01HPXYQRMQKXMZNTA9497VEQ47","beforeCode":"\n\n","innerCode":"\n  cacheTableNames = {};\n  return await updateColumnName( columns );\n","afterCode":"\n"}]